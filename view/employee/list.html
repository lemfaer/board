<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Employee List</title>
</head>
<body>
	<div class="messages">
		<?php while ($message = $messages->pop()): ?>
			<div class="message">
				<span class="title">Message</span>
				<div class="text"><?= $message ?></div>
			</div>
		<?php endwhile ?>
	</div>

	<a href="/employee/create">Create</a>

	<table style="width: 100%">
		<colgroup>
			<col style="width: 5%" />
			<col style="width: 30%" />
			<col style="width: 30%" />
			<col style="width: 20%" />
			<col style="width: 7.5%" />
			<col style="width: 7.5%" />
		</colgroup>

		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Email</th>
			<th>Access</th>
			<th></th>
			<th></th>
		</tr>

		<?php foreach ($employees as $employee): ?>
			<tr>
				<td align="center"><?= $employee->id ?></td>
				<td align="center"><?= $employee->name ?></td>
				<td align="center"><?= $employee->email ?></td>
				<td align="center">
					<?php foreach ($access as $key => $val): ?>
						<?php if (($employee->access & $val) === $val): ?>
							<div><?= $key ?></div>
						<?php endif ?>
					<?php endforeach ?>
				</td>
				<td align="center"><a href="/employee/update/<?= $employee->id ?>">Update</a></td>
				<td align="center"><a href="/employee/delete/<?= $employee->id ?>">Delete</a></td>
			</tr>
		<?php endforeach ?>
	</table>
</body>
</html>
